<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Trivent: TriventProc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Trivent
   &#160;<span id="projectnumber">0.4.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classTriventProc-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TriventProc Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for TriventProc:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classTriventProc.png" usemap="#TriventProc_map" alt=""/>
  <map id="TriventProc_map" name="TriventProc_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2eed3578f54694abc42fa4307dee1d20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2eed3578f54694abc42fa4307dee1d20"></a>
Processor *&#160;</td><td class="memItemRight" valign="bottom"><b>newProcessor</b> ()</td></tr>
<tr class="separator:a2eed3578f54694abc42fa4307dee1d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13d0d62abd79b6836fe8eb897ee64c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae13d0d62abd79b6836fe8eb897ee64c2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:ae13d0d62abd79b6836fe8eb897ee64c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2327afd289a47a0a86b59f01561795c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTriventProc.html#ad2327afd289a47a0a86b59f01561795c">processEvent</a> (LCEvent *evtP)</td></tr>
<tr class="separator:ad2327afd289a47a0a86b59f01561795c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2ab0532cce0a212604ee07b777042d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a2ab0532cce0a212604ee07b777042d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>processRunHeader</b> (LCRunHeader *runH)</td></tr>
<tr class="separator:a2a2ab0532cce0a212604ee07b777042d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0bda688a420336ce0b8eb2a1aae1534"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0bda688a420336ce0b8eb2a1aae1534"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>MinOnLayerCut</b> (int nch_cut)</td></tr>
<tr class="separator:ad0bda688a420336ce0b8eb2a1aae1534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb736b698e72d3df8f7f3a30f280c78"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbb736b698e72d3df8f7f3a30f280c78"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>XMLReader</b> (std::string xmlfile)</td></tr>
<tr class="separator:abbb736b698e72d3df8f7f3a30f280c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b10dd2335c26feeefbc3f0dfd0de6c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b10dd2335c26feeefbc3f0dfd0de6c3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>readDifGeomFile</b> (std::string geomfile)</td></tr>
<tr class="separator:a0b10dd2335c26feeefbc3f0dfd0de6c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fc3368fa8ff09d0e6472fd6e0ca4a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2fc3368fa8ff09d0e6472fd6e0ca4a2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printDifGeom</b> ()</td></tr>
<tr class="separator:af2fc3368fa8ff09d0e6472fd6e0ca4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf38b8e2ac310cdf8012089acf12dda2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf38b8e2ac310cdf8012089acf12dda2"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>getCellDif_id</b> (int cell_id)</td></tr>
<tr class="separator:acf38b8e2ac310cdf8012089acf12dda2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fab13fc22554bfcee80d2bbc6e77510"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fab13fc22554bfcee80d2bbc6e77510"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>getCellAsic_id</b> (int cell_id)</td></tr>
<tr class="separator:a1fab13fc22554bfcee80d2bbc6e77510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5fd540819042b9426b6c2c7485fb572"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5fd540819042b9426b6c2c7485fb572"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>getCellChan_id</b> (int cell_id)</td></tr>
<tr class="separator:af5fd540819042b9426b6c2c7485fb572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cd3e93ef2b88ead1bd2395945ea5e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42cd3e93ef2b88ead1bd2395945ea5e3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getMaxTime</b> ()</td></tr>
<tr class="separator:a42cd3e93ef2b88ead1bd2395945ea5e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0b6dc0fad10f71100f617b1c970f48"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d0b6dc0fad10f71100f617b1c970f48"></a>
uintVec&#160;</td><td class="memItemRight" valign="bottom"><b>getTimeSpectrum</b> ()</td></tr>
<tr class="separator:a8d0b6dc0fad10f71100f617b1c970f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8cc7cacb9b8bce67a4ca63e27afa53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c8cc7cacb9b8bce67a4ca63e27afa53"></a>
uint *&#160;</td><td class="memItemRight" valign="bottom"><b>getPadIndex</b> (uint dif_id, uint asic_id, uint chan_id)</td></tr>
<tr class="separator:a5c8cc7cacb9b8bce67a4ca63e27afa53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a780ee8e577ab2b70de6d416bd648b78d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a780ee8e577ab2b70de6d416bd648b78d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eventBuilder</b> (LCCollection *col_event, uint time_peak, uint prev_time_peak)</td></tr>
<tr class="separator:a780ee8e577ab2b70de6d416bd648b78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9416baadb33709d4ae1249d25f65ff69"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9416baadb33709d4ae1249d25f65ff69"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>peakOrNot</b> (uintVec time_spectrum, uint itime, uint threshold)</td></tr>
<tr class="separator:a9416baadb33709d4ae1249d25f65ff69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e407d5f7aa553911600c06a63e0de32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e407d5f7aa553911600c06a63e0de32"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="separator:a0e407d5f7aa553911600c06a63e0de32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac0a9072e3f7369a69a1279cd40742f5f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0a9072e3f7369a69a1279cd40742f5f"></a>
TH1F *&#160;</td><td class="memItemRight" valign="bottom"><b>noise_dist</b></td></tr>
<tr class="separator:ac0a9072e3f7369a69a1279cd40742f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0086ff9d72ce4571ea717a951d7873"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec0086ff9d72ce4571ea717a951d7873"></a>
TH1F *&#160;</td><td class="memItemRight" valign="bottom"><b>gain_chan</b></td></tr>
<tr class="separator:aec0086ff9d72ce4571ea717a951d7873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75d69847dd3dd9e46792239878b2bed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa75d69847dd3dd9e46792239878b2bed"></a>
TH1F *&#160;</td><td class="memItemRight" valign="bottom"><b>mean_hit_dif</b></td></tr>
<tr class="separator:aa75d69847dd3dd9e46792239878b2bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e59016e4f099828dd6535439455548"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63e59016e4f099828dd6535439455548"></a>
TH1F *&#160;</td><td class="memItemRight" valign="bottom"><b>time_hit_dif</b></td></tr>
<tr class="separator:a63e59016e4f099828dd6535439455548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3514acac042237306ea8a869f38f7e68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3514acac042237306ea8a869f38f7e68"></a>
std::map&lt; std::string, <br class="typebreak"/>
std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_parameters</b></td></tr>
<tr class="separator:a3514acac042237306ea8a869f38f7e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d06de26636a08ead56e78aaa87e7a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9d06de26636a08ead56e78aaa87e7a0"></a>
std::vector<br class="typebreak"/>
&lt; EVENT::RawCalorimeterHit * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_trigger_raw_hit</b></td></tr>
<tr class="separator:ab9d06de26636a08ead56e78aaa87e7a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84895c8a6be617eb3332ab7a8ac37fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac84895c8a6be617eb3332ab7a8ac37fe"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>GAIN_CORRECTION_MODE</b></td></tr>
<tr class="separator:ac84895c8a6be617eb3332ab7a8ac37fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387e40bdcac189c40e175e06815f02a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a387e40bdcac189c40e175e06815f02a5"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_outFileName</b></td></tr>
<tr class="separator:a387e40bdcac189c40e175e06815f02a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220762aa6135a107cee1ad913dad4a6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a220762aa6135a107cee1ad913dad4a6d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_noiseFileName</b></td></tr>
<tr class="separator:a220762aa6135a107cee1ad913dad4a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769b399f40c85ccdeefb11e240a04524"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a769b399f40c85ccdeefb11e240a04524"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_treeName</b></td></tr>
<tr class="separator:a769b399f40c85ccdeefb11e240a04524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121c5cbee7cb958ed21c1a13d149b63f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a121c5cbee7cb958ed21c1a13d149b63f"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_logrootName</b></td></tr>
<tr class="separator:a121c5cbee7cb958ed21c1a13d149b63f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5e858360c5d2ad5af169c5c626f914"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc5e858360c5d2ad5af169c5c626f914"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_colName</b></td></tr>
<tr class="separator:adc5e858360c5d2ad5af169c5c626f914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325f306ec60bc31a5d24e26ab6a4fddb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a325f306ec60bc31a5d24e26ab6a4fddb"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_fileName</b></td></tr>
<tr class="separator:a325f306ec60bc31a5d24e26ab6a4fddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989b747a0e4e6cfa02d1161a98de421b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a989b747a0e4e6cfa02d1161a98de421b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_mappingfile</b></td></tr>
<tr class="separator:a989b747a0e4e6cfa02d1161a98de421b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c495692c2aad61a7ce60c749c5bf189"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c495692c2aad61a7ce60c749c5bf189"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_geomXML</b></td></tr>
<tr class="separator:a7c495692c2aad61a7ce60c749c5bf189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38fdb66f027efd6eaac8b638d35f85f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad38fdb66f027efd6eaac8b638d35f85f"></a>
std::ostream *&#160;</td><td class="memItemRight" valign="bottom"><b>_output</b></td></tr>
<tr class="separator:ad38fdb66f027efd6eaac8b638d35f85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741619ec3d58ddd1a9744e9f57ffcb9d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a741619ec3d58ddd1a9744e9f57ffcb9d"></a>
std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_hcalCollections</b></td></tr>
<tr class="separator:a741619ec3d58ddd1a9744e9f57ffcb9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d01cd1a1fb76477953a190cc1c96fe8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d01cd1a1fb76477953a190cc1c96fe8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_overwrite</b></td></tr>
<tr class="separator:a9d01cd1a1fb76477953a190cc1c96fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4554751214a304dec1b09c55fd028d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4554751214a304dec1b09c55fd028d8"></a>
TTree *&#160;</td><td class="memItemRight" valign="bottom"><b>_outputTree</b></td></tr>
<tr class="separator:ad4554751214a304dec1b09c55fd028d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0951084c600f51cd378430e8b1ed7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc0951084c600f51cd378430e8b1ed7f"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_eventNr</b></td></tr>
<tr class="separator:afc0951084c600f51cd378430e8b1ed7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f03092ba886655fe7e6ef2faa6ec522"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f03092ba886655fe7e6ef2faa6ec522"></a>
Int_t&#160;</td><td class="memItemRight" valign="bottom"><b>_Nhit</b></td></tr>
<tr class="separator:a6f03092ba886655fe7e6ef2faa6ec522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488e31f6481f5681c5286f4ad6bff084"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a488e31f6481f5681c5286f4ad6bff084"></a>
Int_t&#160;</td><td class="memItemRight" valign="bottom"><b>_elec_noise_cut</b></td></tr>
<tr class="separator:a488e31f6481f5681c5286f4ad6bff084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b9a0dd8dbec52b074660676aec5c3a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9b9a0dd8dbec52b074660676aec5c3a"></a>
std::map&lt; int, <a class="el" href="structLayerID.html">LayerID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_mapping</b></td></tr>
<tr class="separator:ae9b9a0dd8dbec52b074660676aec5c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7976ae7b1b03e3b7b7d123d28e52b2c6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7976ae7b1b03e3b7b7d123d28e52b2c6"></a>
std::map&lt; int, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_chamber_pos</b></td></tr>
<tr class="separator:a7976ae7b1b03e3b7b7d123d28e52b2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1cbdfe614612719c1dd5304e2a60c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a1cbdfe614612719c1dd5304e2a60c4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_noiseCut</b></td></tr>
<tr class="separator:a0a1cbdfe614612719c1dd5304e2a60c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7026a2ba0c1c61fbfb14402dc933dfdc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7026a2ba0c1c61fbfb14402dc933dfdc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_timeWin</b></td></tr>
<tr class="separator:a7026a2ba0c1c61fbfb14402dc933dfdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24c6960d10afbcef0ed02cfc7e365c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad24c6960d10afbcef0ed02cfc7e365c7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_LayerCut</b></td></tr>
<tr class="separator:ad24c6960d10afbcef0ed02cfc7e365c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab300480569003a54edd34c46a63f9df4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab300480569003a54edd34c46a63f9df4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_time2prev_event_cut</b></td></tr>
<tr class="separator:ab300480569003a54edd34c46a63f9df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac507176dcf02b0a8db304160ce93d63f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac507176dcf02b0a8db304160ce93d63f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_layer_gap</b></td></tr>
<tr class="separator:ac507176dcf02b0a8db304160ce93d63f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae26de8044b04d845295bdb6ea00ae7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ae26de8044b04d845295bdb6ea00ae7"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>_beamEnergy</b></td></tr>
<tr class="separator:a1ae26de8044b04d845295bdb6ea00ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77891bb090308eb5d8b57cacf06ab3c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77891bb090308eb5d8b57cacf06ab3c0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>trig_count</b></td></tr>
<tr class="separator:a77891bb090308eb5d8b57cacf06ab3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb72fee6e655dd84b6c2142b6562ec44"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb72fee6e655dd84b6c2142b6562ec44"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_maxtime</b></td></tr>
<tr class="separator:aeb72fee6e655dd84b6c2142b6562ec44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd0658f8c4162a4b2039df7fde4c2d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cd0658f8c4162a4b2039df7fde4c2d8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>evtnum</b></td></tr>
<tr class="separator:a7cd0658f8c4162a4b2039df7fde4c2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62a20b0357ddf5d24f6de3f9c2dd51c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae62a20b0357ddf5d24f6de3f9c2dd51c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_rejectedNum</b></td></tr>
<tr class="separator:ae62a20b0357ddf5d24f6de3f9c2dd51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2966485d1996f86059e87d7b3ff419c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2966485d1996f86059e87d7b3ff419c9"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>_index</b> [3]</td></tr>
<tr class="separator:a2966485d1996f86059e87d7b3ff419c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77125d891b8f57baca23c74afdf40be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab77125d891b8f57baca23c74afdf40be"></a>
uintVec&#160;</td><td class="memItemRight" valign="bottom"><b>zcut</b></td></tr>
<tr class="separator:ab77125d891b8f57baca23c74afdf40be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e80a938f23a70dc9a95f65903f04701"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e80a938f23a70dc9a95f65903f04701"></a>
LCWriter *&#160;</td><td class="memItemRight" valign="bottom"><b>_lcWriter</b></td></tr>
<tr class="separator:a5e80a938f23a70dc9a95f65903f04701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85b2772af2664fa71473108a7dc6bd7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af85b2772af2664fa71473108a7dc6bd7"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>normal</b></td></tr>
<tr class="separator:af85b2772af2664fa71473108a7dc6bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade637760722fa4dc9c4b36a2ce529027"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade637760722fa4dc9c4b36a2ce529027"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>red</b></td></tr>
<tr class="separator:ade637760722fa4dc9c4b36a2ce529027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a6d20c018fbf3ff83b28e5c8d3cbb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13a6d20c018fbf3ff83b28e5c8d3cbb4"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>green</b></td></tr>
<tr class="separator:a13a6d20c018fbf3ff83b28e5c8d3cbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6659601453b91c2db5437e431e39ddd7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6659601453b91c2db5437e431e39ddd7"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>yellow</b></td></tr>
<tr class="separator:a6659601453b91c2db5437e431e39ddd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12ed889606a5daae796500684995b8c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af12ed889606a5daae796500684995b8c"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>blue</b></td></tr>
<tr class="separator:af12ed889606a5daae796500684995b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5ee47f38a27a4c8cfbeb8c1922cda8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a5ee47f38a27a4c8cfbeb8c1922cda8"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>magenta</b></td></tr>
<tr class="separator:a9a5ee47f38a27a4c8cfbeb8c1922cda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a6754865dbcaadd651aaf674d5e0134"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a6754865dbcaadd651aaf674d5e0134"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>white</b></td></tr>
<tr class="separator:a4a6754865dbcaadd651aaf674d5e0134"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="TriventProc_8hh_source.html#l00027">27</a> of file <a class="el" href="TriventProc_8hh_source.html">TriventProc.hh</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad2327afd289a47a0a86b59f01561795c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TriventProc::processEvent </td>
          <td>(</td>
          <td class="paramtype">LCEvent *&#160;</td>
          <td class="paramname"><em>evtP</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>loop over collection</p>
<p>Find the condidate event </p>

<p>Definition at line <a class="el" href="TriventProc_8cc_source.html#l00518">518</a> of file <a class="el" href="TriventProc_8cc_source.html">TriventProc.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;{       </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (evtP != NULL){</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      _eventNr=evtP-&gt;getEventNumber();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; _hcalCollections.size(); i++){</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;          LCCollection * col = NULL;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          col = evtP -&gt;getCollection(_hcalCollections[i].c_str());</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          <span class="keywordtype">int</span> numElements = col-&gt;getNumberOfElements();<span class="comment">// hit number </span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          std::cout &lt;&lt; yellow &lt;&lt; <span class="stringliteral">&quot;Trigger name == &quot;</span> &lt;&lt; trig_count++ &lt;&lt; normal &lt;&lt; std::endl;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;          </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          <span class="keywordflow">if</span>(col == NULL )  {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            std::cout&lt;&lt; red &lt;&lt; <span class="stringliteral">&quot;TRIGGER SKIPED ...&quot;</span>&lt;&lt; normal &lt;&lt;std::endl;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;          <span class="keywordflow">if</span>(numElements &gt; _elec_noise_cut)  {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            std::cout &lt;&lt; red &lt;&lt; <span class="stringliteral">&quot;TRIGGER SKIPED ...&quot;</span>&lt;&lt; normal &lt;&lt;std::endl;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;          }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;          </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;          <span class="comment">// set raw hits </span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;          _trigger_raw_hit.clear();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ihit(0); ihit &lt; col-&gt;getNumberOfElements(); ++ihit) {<span class="comment">// loop over the hits</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            RawCalorimeterHit *raw_hit = </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;              <span class="keyword">dynamic_cast&lt;</span>RawCalorimeterHit*<span class="keyword">&gt;</span>( col-&gt;getElementAt(ihit)) ;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">if</span> (NULL != raw_hit){</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;              _trigger_raw_hit.push_back(raw_hit);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          getMaxTime();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          uintVec time_spectrum = getTimeSpectrum();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;          </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          <span class="comment">//---------------------------------------------------------------</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"></span>          uint ibin=0;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;          <span class="keywordtype">double</span> bin_c_prev = -2 * _timeWin; <span class="comment">//  the previous bin center</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          <span class="keywordtype">int</span> time_prev = 0;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;          <span class="keywordflow">while</span>(ibin &lt; (_maxtime+1)){ </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">if</span>(time_spectrum[ibin] &gt;= _noiseCut</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;               &amp;&amp; time_spectrum[ibin] &gt;  time_spectrum[ibin+1]  </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;               &amp;&amp; time_spectrum[ibin] &gt;= time_spectrum[ibin+1]){</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;              LCEventImpl*  evt = <span class="keyword">new</span> LCEventImpl() ;     <span class="comment">// create the event</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;              </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;              <span class="comment">//---------- set event paramters ------</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;              <span class="keyword">const</span> std::string parname_trigger = <span class="stringliteral">&quot;trigger&quot;</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;              <span class="keyword">const</span> std::string parname_energy  = <span class="stringliteral">&quot;beamEnergy&quot;</span>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;              evt-&gt;parameters().setValue(parname_trigger,evtP-&gt;getEventNumber()); </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;              evt-&gt;parameters().setValue(parname_energy , _beamEnergy); </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;              evt-&gt;setRunNumber( evtP-&gt;getRunNumber()) ;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;              <span class="comment">//-------------------------------------</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;              </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;              LCCollectionVec* outcol = <span class="keyword">new</span> LCCollectionVec(LCIO::CALORIMETERHIT);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;              TriventProc::eventBuilder(outcol,ibin,bin_c_prev);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;              </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;              <span class="keywordtype">bool</span> TestEvent = MinOnLayerCut(_LayerCut);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;              <span class="keywordflow">if</span>(TestEvent &amp;&amp;                                  <span class="comment">// the min layer numb cut       </span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                 abs(<span class="keywordtype">int</span>(ibin)-time_prev) &gt; _time2prev_event_cut){ <span class="comment">// time2prev event  cut </span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor">#if true                </span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor"></span>                std::cout&lt;&lt;green&lt;&lt;<span class="stringliteral">&quot; Trivent find event at :==&gt; &quot;</span>&lt;&lt; red &lt;&lt; ibin </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                         &lt;&lt;green&lt;&lt;<span class="stringliteral">&quot;\t :Nhit: ==&gt; &quot;</span>&lt;&lt; magenta</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                         &lt;&lt;outcol-&gt;getNumberOfElements() &lt;&lt; normal &lt;&lt;std::endl;  </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">#endif </span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor"></span>                </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                evt-&gt;setEventNumber( evtnum++ ) ;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                evt-&gt;addCollection(outcol, <span class="stringliteral">&quot;SDHCAL_HIT&quot;</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                _lcWriter-&gt;writeEvent( evt ) ;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;              }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                _rejectedNum++;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keyword">delete</span> outcol;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;              }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;              time_prev = ibin;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;              <span class="keyword">delete</span> evt; evt=NULL;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;              </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;              bin_c_prev = ibin;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;              ibin = ibin+_timeWin;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            }<span class="keywordflow">else</span>{ibin++;}</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;          }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;          </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        }<span class="keywordflow">catch</span> (lcio::DataNotAvailableException zero) {}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }<span class="keywordflow">catch</span> (lcio::DataNotAvailableException err) {}</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;           </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}       </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TriventProc_8hh_source.html">TriventProc.hh</a></li>
<li><a class="el" href="TriventProc_8cc_source.html">TriventProc.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 7 2013 19:55:52 for Trivent by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
